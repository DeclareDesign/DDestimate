<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Regression Tables with estimatr • estimatr</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../">estimatr</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Getting Started
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/getting-started.html">Getting Started with estimatr</a>
    </li>
    <li>
      <a href="../articles/regression-tables.html">Regression Tables with estimatr</a>
    </li>
    <li>
      <a href="../articles/absorbing-fixed-effects.html">Absorbing Fixed Effects with estimatr</a>
    </li>
    <li>
      <a href="../articles/estimatr-in-the-tidyverse.html">estimatr in the Tidyverse</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Technical Notes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/mathematical-notes.html">Mathematical Notes</a>
    </li>
    <li>
      <a href="../articles/benchmarking-estimatr.html">Simulations - Speed Comparisons</a>
    </li>
    <li>
      <a href="../articles/simulations-ols-variance.html">Simulations - OLS and Variance</a>
    </li>
    <li>
      <a href="../articles/simulations-debiasing-dim.html">Simulations - Debiasing Difference-in-Means</a>
    </li>
    <li>
      <a href="../articles/stata-wls-hat.html">How Stata's hat matrix differs with weights</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="http://discuss.declaredesign.org">Ask for Help</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="http://declaredesign.org">DeclareDesign</a>
    </li>
    <li>
      <a href="http://randomizr.declaredesign.org">randomizr</a>
    </li>
    <li>
      <a href="http://fabricatr.declaredesign.org">fabricatr</a>
    </li>
    <li>
      <a href="http://estimatr.declaredesign.org">estimatr</a>
    </li>
  </ul>
</li>
<li>
  <a href="http://declaredesign.org">DeclareDesign home</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a></a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Regression Tables with estimatr</h1>
            
          </div>

    
    
<div class="contents">
<p>Preparing regression tables with estimatr is possible with all of the major r-to-LaTeX packages, including <code>texreg</code>, <code>stargazer</code>, <code>xtable</code> and <code>huxtable</code>.</p>
<div id="setup" class="section level2">
<h2 class="hasAnchor">
<a href="#setup" class="anchor"></a>Setup</h2>
<p>First we’ll load both <code>estimatr</code> and <code>magrittr</code> (for pipes).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(estimatr)
<span class="kw">library</span>(magrittr)</code></pre></div>
</div>
<div id="texreg" class="section level2">
<h2 class="hasAnchor">
<a href="#texreg" class="anchor"></a>Texreg</h2>
<p>Texreg operates directly on an <code>lm_robust</code> object. If you would like standard errors instead of confidence intervals, use <code>include.ci = FALSE</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(texreg)
fit &lt;-<span class="st"> </span><span class="kw"><a href="../reference/lm_robust.html">lm_robust</a></span>(mpg <span class="op">~</span><span class="st"> </span>disp, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="http://www.rdocumentation.org/packages/texreg/topics/texreg">texreg</a></span>(fit, <span class="dt">include.ci =</span> <span class="ot">FALSE</span>)</code></pre></div>
<pre><code>## 
## \begin{table}
## \begin{center}
## \begin{tabular}{l c }
## \hline
##  &amp; Model 1 \\
## \hline
## (Intercept) &amp; $29.60^{***}$ \\
##             &amp; $(1.49)$      \\
## disp        &amp; $-0.04^{***}$ \\
##             &amp; $(0.01)$      \\
## \hline
## R$^2$       &amp; 0.72          \\
## Adj. R$^2$  &amp; 0.71          \\
## Num. obs.   &amp; 32            \\
## RMSE        &amp; 3.25          \\
## \hline
## \multicolumn{2}{l}{\scriptsize{$^{***}p&lt;0.001$, $^{**}p&lt;0.01$, $^*p&lt;0.05$}}
## \end{tabular}
## \caption{Statistical models}
## \label{table:coefficients}
## \end{center}
## \end{table}</code></pre>
</div>
<div id="stargazer" class="section level2">
<h2 class="hasAnchor">
<a href="#stargazer" class="anchor"></a>Stargazer</h2>
<p>Stargazer has to be <em>tricked</em> – there’s unfortunately no way around this unless something in the stargazer package changes. The maintainer has indicated that he has no active plans to update stargazer in the future. First, run the regression using <code>lm</code>. Then you can pass the <code>lm</code> fits to <code>starprep</code> a function which transforms the <code>lm</code> fits into <code>lm_robust</code> fits and then prepare the appropriate statistic you requested. The <code>starprep</code> funciton defaults to returning standard errors and uses <code>lm_robust</code> defaults for standard errors (robust HC2 SEs are the default in both <code>lm_robust</code>). Then you pass the <code>lm</code> fit to stargazer and then pass <code><a href="../reference/starprep.html">starprep(fit)</a></code> to the <code>se</code> argument in <code>stargazer</code>. This process works great with multiple fits.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(stargazer)
fit_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg <span class="op">~</span><span class="st"> </span>disp, <span class="dt">data =</span> mtcars)
fit_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg <span class="op">~</span><span class="st"> </span>hp, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="http://www.rdocumentation.org/packages/stargazer/topics/stargazer">stargazer</a></span>(fit_<span class="dv">1</span>, fit_<span class="dv">2</span>, <span class="dt">se =</span> <span class="kw"><a href="../reference/starprep.html">starprep</a></span>(fit_<span class="dv">1</span>, fit_<span class="dv">2</span>))</code></pre></div>
<pre><code>## 
## % Table created by stargazer v.5.2.2 by Marek Hlavac, Harvard University. E-mail: hlavac at fas.harvard.edu
## % Date and time: Tue, Jun 12, 2018 - 18:29:24
## \begin{table}[!htbp] \centering 
##   \caption{} 
##   \label{} 
## \begin{tabular}{@{\extracolsep{5pt}}lcc} 
## \\[-1.8ex]\hline 
## \hline \\[-1.8ex] 
##  &amp; \multicolumn{2}{c}{\textit{Dependent variable:}} \\ 
## \cline{2-3} 
## \\[-1.8ex] &amp; \multicolumn{2}{c}{mpg} \\ 
## \\[-1.8ex] &amp; (1) &amp; (2)\\ 
## \hline \\[-1.8ex] 
##  disp &amp; $-$0.041$^{***}$ &amp;  \\ 
##   &amp; (0.005) &amp;  \\ 
##   &amp; &amp; \\ 
##  hp &amp;  &amp; $-$0.068$^{***}$ \\ 
##   &amp;  &amp; (0.015) \\ 
##   &amp; &amp; \\ 
##  Constant &amp; 29.600$^{***}$ &amp; 30.099$^{***}$ \\ 
##   &amp; (1.490) &amp; (2.193) \\ 
##   &amp; &amp; \\ 
## \hline \\[-1.8ex] 
## Observations &amp; 32 &amp; 32 \\ 
## R$^{2}$ &amp; 0.718 &amp; 0.602 \\ 
## Adjusted R$^{2}$ &amp; 0.709 &amp; 0.589 \\ 
## Residual Std. Error (df = 30) &amp; 3.251 &amp; 3.863 \\ 
## F Statistic (df = 1; 30) &amp; 76.513$^{***}$ &amp; 45.460$^{***}$ \\ 
## \hline 
## \hline \\[-1.8ex] 
## \textit{Note:}  &amp; \multicolumn{2}{r}{$^{*}$p$&lt;$0.1; $^{**}$p$&lt;$0.05; $^{***}$p$&lt;$0.01} \\ 
## \end{tabular} 
## \end{table}</code></pre>
<p>Below are some more examples, although we hide the output for brevity.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Can also specify clusters and standard error type</span>
<span class="kw"><a href="http://www.rdocumentation.org/packages/stargazer/topics/stargazer">stargazer</a></span>(
  fit_<span class="dv">1</span>, fit_<span class="dv">2</span>,
  <span class="dt">se =</span> <span class="kw"><a href="../reference/starprep.html">starprep</a></span>(fit_<span class="dv">1</span>, fit_<span class="dv">2</span>, <span class="dt">clusters =</span> mtcars<span class="op">$</span>cyl, <span class="dt">se_type =</span> <span class="st">"stata"</span>)
)

<span class="co"># Can also precompute robust objects to save computation time</span>
<span class="co"># using `commarobust`</span>
fit_1_r &lt;-<span class="st"> </span><span class="kw"><a href="../reference/commarobust.html">commarobust</a></span>(fit_<span class="dv">1</span>)
fit_2_r &lt;-<span class="st"> </span><span class="kw"><a href="../reference/commarobust.html">commarobust</a></span>(fit_<span class="dv">2</span>)
<span class="kw"><a href="http://www.rdocumentation.org/packages/stargazer/topics/stargazer">stargazer</a></span>(fit_<span class="dv">1</span>, fit_<span class="dv">2</span>,
          <span class="dt">se =</span> <span class="kw"><a href="../reference/starprep.html">starprep</a></span>(fit_1_r, fit_2_r),
          <span class="dt">p =</span> <span class="kw"><a href="../reference/starprep.html">starprep</a></span>(fit_1_r, fit_2_r, <span class="dt">stat =</span> <span class="st">"p.value"</span>))

<span class="co"># can also easily get robust confidence intervals</span>
<span class="kw"><a href="http://www.rdocumentation.org/packages/stargazer/topics/stargazer">stargazer</a></span>(fit_<span class="dv">1</span>, fit_<span class="dv">2</span>,
          <span class="dt">ci.custom =</span> <span class="kw"><a href="../reference/starprep.html">starprep</a></span>(fit_1_r, fit_2_r, <span class="dt">stat =</span> <span class="st">"ci"</span>))</code></pre></div>
</div>
<div id="xtable" class="section level2">
<h2 class="hasAnchor">
<a href="#xtable" class="anchor"></a>xtable</h2>
<p><code>xtable</code> works directly on a data.frame, so we just have to prep the <code>lm_robust</code> output with the <code>tidy</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(xtable)
fit &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg <span class="op">~</span><span class="st"> </span>disp, <span class="dt">data =</span> mtcars)
fit <span class="op">%&gt;%</span><span class="st"> </span>tidy <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/xtable/topics/xtable">xtable</a></span>()</code></pre></div>
<pre><code>## % latex table generated in R 3.5.0 by xtable 1.8-2 package
## % Tue Jun 12 18:29:24 2018
## \begin{table}[ht]
## \centering
## \begin{tabular}{rlrrrr}
##   \hline
##  &amp; term &amp; estimate &amp; std.error &amp; statistic &amp; p.value \\ 
##   \hline
## 1 &amp; (Intercept) &amp; 29.60 &amp; 1.23 &amp; 24.07 &amp; 0.00 \\ 
##   2 &amp; disp &amp; -0.04 &amp; 0.00 &amp; -8.75 &amp; 0.00 \\ 
##    \hline
## \end{tabular}
## \end{table}</code></pre>
</div>
<div id="huxtable" class="section level2">
<h2 class="hasAnchor">
<a href="#huxtable" class="anchor"></a>huxtable</h2>
<p><code>huxtable</code>, too, works on a data.frame, so all we have to do is prep with <code>tidy</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(huxtable)
fit &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg <span class="op">~</span><span class="st"> </span>disp, <span class="dt">data =</span> mtcars)
fit <span class="op">%&gt;%</span><span class="st"> </span>tidy <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/huxtable/topics/huxtable">hux</a></span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/huxtable/topics/to_latex">print_latex</a></span>()</code></pre></div>
<pre><code>## \begin{table}[h]
## \centering\begin{tabularx}{0.5\textwidth}{p{0.1\textwidth} p{0.1\textwidth} p{0.1\textwidth} p{0.1\textwidth} p{0.1\textwidth}}
## \multicolumn{1}{!{\color[RGB]{0, 0, 0}\vrule width 0pt}l!{\color[RGB]{0, 0, 0}\vrule width 0pt}}{\hspace*{4pt}\rule{0pt}{\baselineskip+4pt}\raggedright (Intercept)\rule[-4pt]{0pt}{4pt}\hspace*{4pt}} &amp; 
## \multicolumn{1}{l!{\color[RGB]{0, 0, 0}\vrule width 0pt}}{\hspace*{4pt}\rule{0pt}{\baselineskip+4pt}\raggedright  29.6\rule[-4pt]{0pt}{4pt}\hspace*{4pt}} &amp; 
## \multicolumn{1}{l!{\color[RGB]{0, 0, 0}\vrule width 0pt}}{\hspace*{4pt}\rule{0pt}{\baselineskip+4pt}\raggedright  1.23\rule[-4pt]{0pt}{4pt}\hspace*{4pt}} &amp; 
## \multicolumn{1}{l!{\color[RGB]{0, 0, 0}\vrule width 0pt}}{\hspace*{4pt}\rule{0pt}{\baselineskip+4pt}\raggedright  24.1\rule[-4pt]{0pt}{4pt}\hspace*{4pt}} &amp; 
## \multicolumn{1}{l!{\color[RGB]{0, 0, 0}\vrule width 0pt}}{\hspace*{4pt}\rule{0pt}{\baselineskip+4pt}\raggedright  3.58e-21\rule[-4pt]{0pt}{4pt}\hspace*{4pt}}\tabularnewline[-0.5pt]
## \multicolumn{1}{!{\color[RGB]{0, 0, 0}\vrule width 0pt}l!{\color[RGB]{0, 0, 0}\vrule width 0pt}}{\hspace*{4pt}\rule{0pt}{\baselineskip+4pt}\raggedright disp\rule[-4pt]{0pt}{4pt}\hspace*{4pt}} &amp; 
## \multicolumn{1}{l!{\color[RGB]{0, 0, 0}\vrule width 0pt}}{\hspace*{4pt}\rule{0pt}{\baselineskip+4pt}\raggedright -0.0412\rule[-4pt]{0pt}{4pt}\hspace*{4pt}} &amp; 
## \multicolumn{1}{l!{\color[RGB]{0, 0, 0}\vrule width 0pt}}{\hspace*{4pt}\rule{0pt}{\baselineskip+4pt}\raggedright 0.00471\rule[-4pt]{0pt}{4pt}\hspace*{4pt}} &amp; 
## \multicolumn{1}{l!{\color[RGB]{0, 0, 0}\vrule width 0pt}}{\hspace*{4pt}\rule{0pt}{\baselineskip+4pt}\raggedright -8.75\rule[-4pt]{0pt}{4pt}\hspace*{4pt}} &amp; 
## \multicolumn{1}{l!{\color[RGB]{0, 0, 0}\vrule width 0pt}}{\hspace*{4pt}\rule{0pt}{\baselineskip+4pt}\raggedright  9.38e-10\rule[-4pt]{0pt}{4pt}\hspace*{4pt}}\tabularnewline[-0.5pt]
## \end{tabularx}
## 
## \end{table}</code></pre>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#setup">Setup</a></li>
      <li><a href="#texreg">Texreg</a></li>
      <li><a href="#stargazer">Stargazer</a></li>
      <li><a href="#xtable">xtable</a></li>
      <li><a href="#huxtable">huxtable</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright" style="flex:3;">
  <p>Developed by Graeme Blair, Jasper Cooper, Alexander Coppock, Macartan Humphreys, Luke Sonnet, Neal Fultz.</p>
  <p>Code is licensed under <a href="https://opensource.org/licenses/mit-license.php">MIT</a> license.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
